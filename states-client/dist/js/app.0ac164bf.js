(function(){"use strict";var t={177:function(t,e,n){var a=n(963),r=n(252);function i(t,e,n,a,i,s){const o=(0,r.up)("page-header"),u=(0,r.up)("router-view"),c=(0,r.up)("page-footer");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(o),(0,r.Wm)(u),(0,r.Wm)(c)],64)}const s=t=>((0,r.dD)("data-v-17be7331"),t=t(),(0,r.Cn)(),t),o={id:"block-header"},u=s((()=>(0,r._)("h1",{id:"title"},"Have you visited every state?",-1))),c=[u];function l(t,e,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",o,c)}var d={name:"PageHeader"},p=n(744);const f=(0,p.Z)(d,[["render",l],["__scopeId","data-v-17be7331"]]);var h=f;const v=t=>((0,r.dD)("data-v-c922627e"),t=t(),(0,r.Cn)(),t),m={class:"nav-link"},g=(0,r.Uk)("Home"),y={class:"nav-link"},b=(0,r.Uk)("About Site"),_=v((()=>(0,r._)("p",null,[(0,r.Uk)(" header image by "),(0,r._)("a",{href:"https://www.flickr.com/photos/188138700@N06",target:"_blank",rel:"noreferrer noopener"},"Marty Mooney on Flickr")],-1)));function w(t,e,n,a,i,s){const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,[(0,r._)("span",m,[(0,r.Wm)(o,{to:"/"},{default:(0,r.w5)((()=>[g])),_:1})]),(0,r._)("span",y,[(0,r.Wm)(o,{to:"/about"},{default:(0,r.w5)((()=>[b])),_:1})])]),_])}var S={name:"PageFooter"};const k=(0,p.Z)(S,[["render",w],["__scopeId","data-v-c922627e"]]);var O=k;const D={class:"state-list-container"};function j(t,e,n,a,i,s){const o=(0,r.up)("state-summary"),u=(0,r.up)("state-detail");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",null,[(0,r.Wm)(o,{states:i.states},null,8,["states"])]),(0,r._)("div",D,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.states,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"state-container",key:t.name},[(0,r.Wm)(u,{state:t,onUpdateVisited:s.updateVisited},null,8,["state","onUpdateVisited"])])))),128))])],64)}var A=n(577);const C=t=>((0,r.dD)("data-v-0959d440"),t=t(),(0,r.Cn)(),t),M={class:"state-info"},V={class:"state-name"},P={class:"to-center"},z=C((()=>(0,r._)("div",{class:"map-icon"},null,-1)));function R(t,e,n,i,s,o){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",M,[(0,r._)("span",V,(0,A.zw)(n.state.name),1),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{class:"visit-state",type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>s.visited=t),onChange:e[1]||(e[1]=(...t)=>o.visitedChanged&&o.visitedChanged(...t))},null,544),[[a.e8,s.visited]])]),(0,r._)("div",P,[(0,r.Wm)(u,{to:{name:"StateMap",params:{state:n.state.name}}},{default:(0,r.w5)((()=>[z])),_:1},8,["to"])])])}var H={name:"StateDetail",props:{state:Object},data(){return{visited:this.state.visited}},methods:{visitedChanged(){this.$emit("update-visited",this.state.name,this.state.visited)}}};const W=(0,p.Z)(H,[["render",R],["__scopeId","data-v-0959d440"]]);var T=W;const Y={key:0};function x(t,e,n,a,i,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("p",null,"There are a total of "+(0,A.zw)(n.states.length)+" states in the District of Columbia.",1),(0,r._)("p",null,"You have visited "+(0,A.zw)(s.numberOfVisited)+" "+(0,A.zw)(s.units)+".",1),s.areAllVisited?((0,r.wg)(),(0,r.iD)("p",Y,"You have visited all the states!")):(0,r.kq)("",!0)],64)}var E={name:"StateSummary",props:{states:Array},computed:{numberOfVisited(){let t=0;return this.states.forEach((e=>{e.visited&&t++})),t},units(){return 1===this.numberOfVisited?"state":"states"},areAllVisited(){return this.numberOfVisited===this.states.length}}};const L=(0,p.Z)(E,[["render",x]]);var Z=L,$={name:"StateList",components:{StateSummary:Z,StateDetail:T},data(){return{states:[]}},mounted(){this.fetchAllStates()},methods:{fetchAllStates(){this.$state_service.getAllStates().then((t=>{this.states=t})).catch((t=>{alert("Sorry, can't fetch state list"),console.log(t)}))},updateVisited(t,e){this.$state_service.setVisited(t,e).then((()=>{this.fetchAllStates()})).catch((t=>{alert("Sorry, can't update state"),console.log(t)}))}}};const U=(0,p.Z)($,[["render",j],["__scopeId","data-v-108cba4c"]]);var F=U,I={name:"App",components:{StateList:F,PageFooter:O,PageHeader:h}};const N=(0,p.Z)(I,[["render",i]]);var q=N,B=n(669),K=n.n(B),G={getAllStates(){return K().get("/api/states").then((t=>t.data))},setVisited(t,e){let n={visited:e};return K().patch("/api/states/"+t,n).then((t=>t.data))},getOneState(t){return K().get("/api/state/"+t).then((t=>t.data))}},J=n(119);const Q=(0,r._)("h2",null,"where have you traveled to?",-1),X=(0,r._)("p",null,"use this site to keep track of which sites you have traveled to?",-1),tt=(0,r._)("p",null,"A Vue.js site by Marty M.",-1),et=[Q,X,tt];function nt(t,e,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",null,et)}var at={name:"AboutSite"};const rt=(0,p.Z)(at,[["render",nt]]);var it=rt;const st={key:0,class:"state-map"},ot={key:0},ut={key:1},ct={key:1,id:"map-container"},lt={key:2};function dt(t,e,n,a,i,s){const o=(0,r.up)("l-tile-layer"),u=(0,r.up)("l-map");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i.validState?((0,r.wg)(),(0,r.iD)("div",st,[(0,r._)("h2",null,"State of "+(0,A.zw)(i.state.name),1),i.state.visited?((0,r.wg)(),(0,r.iD)("p",ot,"You have visited this state!")):((0,r.wg)(),(0,r.iD)("p",ut,"You have not visited this state yet..."))])):(0,r.kq)("",!0),i.dataReady?((0,r.wg)(),(0,r.iD)("div",ct,[(0,r.Wm)(u,{ref:"map",onReady:s.onMapReady,center:s.mapCenter,zoom:i.state.zoom},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" Â© OpenStreetMap contributors"})])),_:1},8,["onReady","center","zoom"])])):((0,r.wg)(),(0,r.iD)("div",lt,[(0,r._)("h1",null,(0,A.zw)(i.state.name)+" is an invalid state!",1)]))],64)}var pt=n(662),ft={name:"StateMap",components:{LMap:pt.iA,LTileLayer:pt.Hw},data(){return{state:{},dataReady:!1,mapReady:!1,validState:!1}},mounted(){this.state.name=this.$route.params.state,this.fetchStateData()},methods:{fetchStateData(){this.$state_service.getOneState(this.state.name).then((t=>{this.state=t,this.dataReady=!0})).catch((t=>{t.response&&404===t.response.status?this.validState=!1:(alert(`sorry error fetching data about ${this.state.name}`),console.log(t))}))},onMapReady(){this.mapReady=!0},setMapView(){this.mapReady&&this.dataReady&&this.$refs.map.leafletObject.setView(this.mapCenter,this.zoom)}},computed:{mapCenter(){return[this.state.lat,this.state.lon]}}};const ht=(0,p.Z)(ft,[["render",dt],["__scopeId","data-v-4fab80bc"]]);var vt=ht,mt=(0,J.p7)({history:(0,J.r5)(),routes:[{path:"/",name:"StateList",component:F},{path:"/about",name:"AboutSite",component:it},{path:"/map/:state",name:"StateMap",component:vt}]});let gt=(0,a.ri)(q);gt.use(mt),gt.config.globalProperties.$state_service=G,gt.mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,i){if(!a){var s=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],i=t[l][2];for(var o=!0,u=0;u<a.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[u])}))?a.splice(u--,1):(o=!1,i<s&&(s=i));if(o){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[a,r,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&a;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(t){s[t]=function(){return a[t]}}));return s["default"]=function(){return a},n.d(i,s),i}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{93:"07150c07",243:"2371825c",431:"2e5d145e",633:"59597f50",858:"bce40fc7"}[t]+".js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="states-client:";n.l=function(a,r,i,s){if(t[a])t[a].push(r);else{var o,u;if(void 0!==i)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+i){o=d;break}}o||(u=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+i),o.src=a),t[a]=[r];var p=function(e,n){o.onerror=o.onload=null,clearTimeout(f);var r=t[a];if(delete t[a],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),u&&document.head.appendChild(o)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var i=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=i);var s=n.p+n.u(e),o=new Error,u=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,r[1](o)}};n.l(s,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,s=a[0],o=a[1],u=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(u)var l=u(n)}for(e&&e(a);c<s.length;c++)i=s[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},a=self["webpackChunkstates_client"]=self["webpackChunkstates_client"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(177)}));a=n.O(a)})();
//# sourceMappingURL=app.0ac164bf.js.map